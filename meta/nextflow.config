
trace {
    enabled = true
    raw = true
}


process {
    container = 'nextflow/nextflow:22.04.4'

    errorStrategy = 'retry'
    maxRetries = { params.memory_values.size() - 1 }

    cpus = 1
    memory = { params.memory_values[task.attempt - 1] }

    afterScript = 'rm -rf work'
}


profile {
    local {
        executor.name = "local"
        executor.cpus = 1
    }
}
